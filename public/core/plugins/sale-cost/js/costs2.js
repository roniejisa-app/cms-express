import{g as r}from"./utils.js";class l{constructor(t){this.el=t,this.elTextArea=this.el.querySelector("textarea"),this.data=[],this.init()}pasteEvent(){this.el.addEventListener("paste",t=>{t.preventDefault(),(t.clipboardData||window.clipboardData).getData("Text").trim().split(`
`).forEach((a,c)=>{const o=a.split("	");this.items.append(this.instanceItem(o[0],o[1]))}),this.updateTextArea()})}instanceItem(t=null,i=null){const e=document.createElement("div");e.setAttribute("cost-item","");const s=document.createElement("input");s.setAttribute("cost-name",""),s.placeholder="Chi phí cho...",t&&(s.value=t);const a=document.createElement("input");a.setAttribute("cost-value",""),a.placeholder="Giá trị...",i&&(a.value=r(i));const c=document.createElement("select");c.setAttribute("cost-type",""),c.innerHTML=`<option value="percent">%</option>
                                <option value="number">Số</option>`;const o=document.createElement("button");return o.type="button",o.innerHTML="Xóa",o.onclick=()=>{e.remove(),this.updateTextArea()},e.append(s,a,c,o),e}updateTextArea(){this.items=this.el.querySelector("[costs]"),this.data=[];for(const t of this.items.children){const i=t.querySelector("[cost-name]"),e=t.querySelector("[cost-value]"),s=t.querySelector("[cost-type]");this.data.push({name:i.value,value:e.value,type:s.value})}this.elTextArea.innerHTML=JSON.stringify(this.data)}init(){this.pasteEvent(),this.items=this.el.querySelector("[costs]"),this.buttonAddCost=this.el.querySelector("[add-cost]"),this.buttonAddCost.onclick=()=>{this.items.append(this.instanceItem())}}}const u=document.querySelectorAll("[sale-cost]");u.forEach(n=>{new l(n)});
